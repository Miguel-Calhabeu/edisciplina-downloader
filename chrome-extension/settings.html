<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Configurações • e-Disciplinas Downloader</title>
  <link rel="stylesheet" href="settings.css">
</head>
<body>
  <main class="page">
    <header class="page-header">
      <div class="header-title">
        <div class="header-icon" aria-hidden="true">
          <span>⚙️</span>
        </div>
        <div>
          <h1>Configurações</h1>
          <p class="header-subtitle">Personalize como os arquivos do Moodle USP são baixados e organizados.</p>
        </div>
      </div>
      <span id="version" class="version">v1.0.0</span>
    </header>

    <section class="card">
      <div class="card-header">
        <h2>Diretório de download</h2>
        <p>Defina onde os arquivos serão salvos dentro da sua pasta <code>~/Downloads</code>.</p>
      </div>

      <div class="form-group">
        <label for="downloadPath" class="label">Subpasta de destino</label>
        <div class="input-wrapper">
          <span class="input-prefix">~/Downloads/</span>
          <input
            type="text"
            id="downloadPath"
            class="text-input"
            placeholder="ex.: e-Disciplinas/Cursos"
            maxlength="200"
          />
        </div>
        <p class="helper">Use <code>.</code> para salvar direto em <code>~/Downloads</code>. Caracteres permitidos: letras, números, <code>-</code>, <code>_</code>, <code>.</code> e <code>/</code>.</p>
      </div>

      <div class="form-group inline">
        <label class="checkbox">
          <input type="checkbox" id="createCourseFolder" checked>
          <span>Criar subpasta com o código da disciplina (se disponível)</span>
        </label>
        <p class="helper">Exemplo: <code>~/Downloads/[subpasta]/SSC0123/arquivo.pdf</code></p>
      </div>
    </section>

    <section class="card">
      <div class="card-header">
        <h2>Estrutura dos arquivos</h2>
        <p>Escolha como as pastas serão organizadas.</p>
      </div>
      <div class="form-group">
        <div class="option-grid" id="namingOptions">
          <label class="option">
            <input type="radio" name="namingStructure" value="code-section-file">
            <div class="option-body">
              <strong>Código / Seção / Arquivo</strong>
              <p>Cria uma pasta para a disciplina e subpastas para cada seção da página.</p>
            </div>
          </label>

          <label class="option">
            <input type="radio" name="namingStructure" value="code-file" checked>
            <div class="option-body">
              <strong>Código / Arquivo</strong>
              <p>Agrupa todos os arquivos na pasta da disciplina.</p>
            </div>
          </label>

          <label class="option">
            <input type="radio" name="namingStructure" value="discipline-file">
            <div class="option-body">
              <strong>Nome da Disciplina / Arquivo</strong>
              <p>Usa o nome completo da disciplina como pasta principal.</p>
            </div>
          </label>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="card-header">
        <h2>Filtros de download</h2>
      </div>
      <div class="form-group">
        <label for="allowedExtensions" class="label">Extensões permitidas</label>
        <div class="input-wrapper">
          <input
            type="text"
            id="allowedExtensions"
            class="text-input"
            placeholder="pdf, txt, docx, zip"
            autocomplete="off"
          />
        </div>
        <p class="helper">Separe por vírgula. Deixe em branco para baixar todos os tipos de arquivo.</p>
      </div>
    </section>

    <section class="card">
      <div class="actions">
        <button id="resetBtn" class="btn btn-secondary" type="button">Redefinir padrão</button>
        <button id="saveBtn" class="btn btn-primary" type="button">Salvar configurações</button>
      </div>
      <div id="status" class="status hidden" role="status"></div>
    </section>
  </main>

  <script src="settings.js"></script>
</body>
</html>
